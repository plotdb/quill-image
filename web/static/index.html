<!DOCTYPE html><html><head><link rel="stylesheet" type="text/css" href="/assets/lib/bootstrap/main/dist/css/bootstrap.min.css"><link rel="stylesheet" type="text/css" href="/assets/lib/@loadingio/bootstrap.ext/main/index.min.css"><link rel="stylesheet" type="text/css" href="/assets/lib/quill/main/dist/quill.core.css"><link rel="stylesheet" type="text/css" href="/assets/lib/quill/main/dist/quill.snow.css"></head><body><div class="w-1024 rwd mx-auto my-5"><h2 class="mb-4">Quill Image Tools Test</h2><div class="mb-3"><button class="btn btn-primary" id="insert-image">Insert Test Image</button><button class="btn btn-secondary ml-2" id="toggle-readonly">Toggle Read-only</button></div><div class="border" id="editor" style="min-height: 400px;"><p>Welcome to the Quill Image Tools test page.</p><p>Click "Insert Test Image" to add an image, then try:</p><ul><li>Click on the image to select it</li><li>Drag the corner handles to resize</li><li>Press Escape to deselect</li></ul></div><div class="mt-4"><h5>Debug Info:</h5><pre id="debug-info"></pre></div></div><script type="text/javascript" src="/assets/lib/quill/main/dist/quill.js" defer></script><script type="text/javascript" src="/assets/lib/@plotdb/quill-image/main/index.min.js" defer></script><script type="module">var quill,imageTools,debugElement,init,setupTestButtons,setupQuillEvents,logDebug;quill=null;imageTools=null;debugElement=null;init=function(){var e;e=document.querySelector("#debug-info");quill=new Quill("#editor",{theme:"snow",modules:{toolbar:[["bold","italic","underline"],["link","image"],[{list:"ordered"},{list:"bullet"}],["clean"]]}});imageTools=new window.quillImageTools(quill);logDebug("Quill editor initialized");logDebug("Image tools module loaded");setupTestButtons();return setupQuillEvents()};setupTestButtons=function(){var e,t;e=document.querySelector("#insert-image");e.addEventListener("click",function(){var e,t,l;e=((t=quill.getSelection())!=null?t.index:void 8)||quill.getLength()-1;l="https://picsum.photos/300/200?random="+Date.now();quill.insertEmbed(e,"image",l);return logDebug("Inserted test image at index "+e)});t=document.querySelector("#toggle-readonly");return t.addEventListener("click",function(){var e;e=quill.isEnabled();if(e){quill.disable();t.textContent="Enable Editor";return logDebug("Editor disabled")}else{quill.enable();t.textContent="Disable Editor";return logDebug("Editor enabled")}})};setupQuillEvents=function(){quill.on("text-change",function(e,t,l){var n,i,u,o,r,g=[];logDebug("Text changed (source: "+l+")");if(e.ops!=null){for(n=0,u=(i=e.ops).length;n<u;++n){o=i[n];if(((r=o.insert)!=null?r.image:void 8)!=null){logDebug("Image inserted: "+o.insert.image)}if(o.attributes!=null){g.push(logDebug("Attributes applied: "+JSON.stringify(o.attributes)))}}return g}});return quill.on("selection-change",function(e,t,l){if(e!=null){return logDebug("Selection: "+e.index+"-"+(e.index+e.length))}else{return logDebug("Selection cleared")}})};logDebug=function(e){var t;t=(new Date).toLocaleTimeString();if(debugElement!=null){debugElement.textContent+=t+": "+e+"\n";debugElement.scrollTop=debugElement.scrollHeight}return console.log("[QuillImageTest] "+e)};if(document.readyState==="loading"){document.addEventListener("DOMContentLoaded",init)}else{init()}</script></body></html>